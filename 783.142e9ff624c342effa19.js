(self.webpackChunkproduction_suite=self.webpackChunkproduction_suite||[]).push([[783],{783:(e,r,l)=>{"use strict";l.r(r),l.d(r,{RecipesModule:()=>U});var t=l(8583),i=l(7902),c=l(4762),n=l(3018),d=l(7813),a=l(5032),o=l(3293),s=l(7345),p=l(4981),u=l(9962);function g(e,r){if(1&e&&(n.TgZ(0,"clr-dg-row",14),n.TgZ(1,"clr-dg-cell"),n._uU(2),n.qZA(),n.TgZ(3,"clr-dg-cell"),n._uU(4),n.qZA(),n.TgZ(5,"clr-dg-cell"),n._uU(6),n.qZA(),n.TgZ(7,"clr-dg-cell"),n._uU(8),n.qZA(),n.qZA()),2&e){const e=r.$implicit;n.Q6J("clrDgItem",e),n.xp6(2),n.Oqu(e.name),n.xp6(2),n.Oqu(e.baseHours),n.xp6(2),n.Oqu(e.hoursPerUnit),n.xp6(2),n.Oqu(e.description)}}function f(e,r){if(1&e){const e=n.EpF();n.TgZ(0,"clr-dg-detail"),n.TgZ(1,"clr-dg-detail-header"),n._uU(2),n.qZA(),n.TgZ(3,"app-general-editor",15),n.NdJ("save",function(r){return n.CHM(e),n.oxw(2).onSave(r)}),n.qZA(),n._UZ(4,"br"),n._UZ(5,"app-user-defined-form-data-display",16),n.qZA()}if(2&e){const e=r.$implicit,l=n.oxw(2);n.xp6(2),n.Oqu(e.name),n.xp6(1),n.Q6J("value",e)("formDef",l.formDef),n.xp6(2),n.Q6J("data",e)("formDef",l.formDef)("nestedDisplayField",l.nestedDisplayField)}}const m=function(){return[1,2,5,10]};function y(e,r){if(1&e){const e=n.EpF();n.TgZ(0,"clr-datagrid",7),n.NdJ("clrDgRefresh",function(r){return n.CHM(e),n.oxw().gridHandler.refresh(r)})("clrDgSelectedChange",function(r){return n.CHM(e),n.oxw().selected=r}),n.TgZ(1,"clr-dg-column",8),n._uU(2,"Name"),n.qZA(),n.TgZ(3,"clr-dg-column",8),n._uU(4,"Base Hours"),n.qZA(),n.TgZ(5,"clr-dg-column",8),n._uU(6,"Hours Per Unit"),n.qZA(),n.TgZ(7,"clr-dg-column",8),n._uU(8,"Description"),n.qZA(),n.TgZ(9,"clr-dg-placeholder"),n._uU(10,"We couldn't find any recipes!"),n.qZA(),n.YNc(11,g,9,5,"clr-dg-row",9),n.YNc(12,f,6,6,"clr-dg-detail",10),n.TgZ(13,"clr-dg-footer"),n.TgZ(14,"clr-dg-pagination",11,12),n.TgZ(16,"clr-dg-page-size",13),n._uU(17,"Recipes per page"),n.qZA(),n._uU(18),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.MAs(15),r=n.oxw();n.Q6J("clrDgLoading",r.gridHandler.loading)("clrDgSelected",r.selected),n.xp6(1),n.Q6J("clrDgField","name"),n.xp6(2),n.Q6J("clrDgField","baseHours"),n.xp6(2),n.Q6J("clrDgField","hoursPerUnit"),n.xp6(2),n.Q6J("clrDgField","description"),n.xp6(4),n.Q6J("ngForOf",r.recipes),n.xp6(3),n.Q6J("clrDgPageSize",2)("clrDgTotalItems",r.gridHandler.total),n.xp6(2),n.Q6J("clrPageSizeOptions",n.DdM(13,m)),n.xp6(2),n.lnq(" ",e.firstItem+1," - ",e.lastItem+1," of ",e.totalItems," users ")}}const h=[{path:"",component:(()=>{class e{constructor(e,r,l){this.recipeService=e,this.materialService=r,this.gridHandler=l,this.addModalIsOpen=!1,this.nestedDisplayField={RecipeOptions:{field:"name",nested:{SelectionsInnerForm:{field:"display"}}}},this.recipes=[],l.setService(e),l.onItems$.subscribe(e=>this.recipes=e),this.setup()}setup(){return(0,c.mG)(this,void 0,void 0,function*(){this.recipes=(yield this.recipeService.get()).items;const e=yield this.materialService.getMaterialClasses();this.formDef={key:"sdgdf",fields:[{type:"HIDDEN",key:"id",label:"ID"},{type:"TEXT",key:"name",label:"Name",placeholder:"",required:!0},{type:"TEXT",key:"description",label:"Description",placeholder:"",required:!0},{type:"NUMBER",key:"baseHours",label:"Base Hours",placeholder:"",required:!0},{type:"NUMBER",key:"hoursPerUnit",label:"Hours Per Unit",placeholder:"",required:!0},{type:"CHECK",key:"setup",label:"Include Setup"},{type:"NUMBER",key:"set Up Cost",label:"Set Up Cost",placeholder:"",required:!0},{type:"NUMBER",key:"minComplexity",label:"Minimum Complexity Percent",placeholder:"",required:!0},{type:"NUMBER",key:"maxComplexity",label:"Maximum Complexity Percent",placeholder:"",required:!0},{type:"NESTED",key:"materials",label:"Materials",innerForm:{key:"MaterialsList",fields:[{type:"SELECT",key:"material",label:"Material",multiple:!1,options:{type:"PLAINTEXT",options:e.map(e=>({value:e,display:e}))}},{type:"NUMBER",key:"perUnity",label:"Amount needed per unit",placeholder:"",required:!0,default:1},{type:"NUMBER",key:"perSetup",label:"Amount needed for Setup",placeholder:"",default:1}]}}]}})}onSave(e){console.log("Saved!"),console.log(e);let r=-1;for(let l=0;l<this.recipes.length;l++)if(this.recipes[l].name===e.name){r=l;break}}ngOnInit(){}addRecipe(e){return(0,c.mG)(this,void 0,void 0,function*(){this.addModalIsOpen=!1,yield this.recipeService.add(e),this.recipes=(yield this.recipeService.get()).items})}}return e.\u0275fac=function(r){return new(r||e)(n.Y36(d.j),n.Y36(a.U),n.Y36(o.j))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-recipes-list-page"]],decls:9,vars:3,consts:[[1,"btn","btn-primary",3,"click"],["shape","plus"],[3,"clrDgLoading","clrDgSelected","clrDgRefresh","clrDgSelectedChange",4,"ngIf"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],[3,"formDef","save"],[3,"clrDgLoading","clrDgSelected","clrDgRefresh","clrDgSelectedChange"],[3,"clrDgField"],[3,"clrDgItem",4,"ngFor","ngForOf"],[4,"clrIfDetail"],[3,"clrDgPageSize","clrDgTotalItems"],["pagination",""],[3,"clrPageSizeOptions"],[3,"clrDgItem"],[3,"value","formDef","save"],[3,"data","formDef","nestedDisplayField"]],template:function(e,r){1&e&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return r.addModalIsOpen=!0}),n._UZ(1,"cds-icon",1),n._uU(2," Add\n"),n.qZA(),n.YNc(3,y,19,14,"clr-datagrid",2),n.TgZ(4,"clr-modal",3),n.NdJ("clrModalOpenChange",function(e){return r.addModalIsOpen=e}),n.TgZ(5,"h3",4),n._uU(6,"Add Recipe"),n.qZA(),n.TgZ(7,"div",5),n.TgZ(8,"app-general-editor",6),n.NdJ("save",function(e){return r.addRecipe(e)}),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(3),n.Q6J("ngIf",r.formDef),n.xp6(1),n.Q6J("clrModalOpen",r.addModalIsOpen),n.xp6(4),n.Q6J("formDef",r.formDef))},directives:[s.nkF,t.O5,s.qAN,s.VLi,p.x,s.C9t,s.PDs,s.Nh1,s.dml,s.K8c,s.m4W,s.KHL,s.F7K,t.sg,s.i6Q,s.dRQ,s.Ltv,s.YYR,s.Z4N,s.Gcc,s.fv_,s.jND,s.c2j,s.ygj,u.g],styles:[""]}),e})()}];let D=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[i.Bz.forChild(h)],i.Bz]}),e})();var Z=l(7822),q=l(665);let U=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[t.ez,D,Z.u,s.K6A,Z.u,q.u5,q.UX]]}),e})()}}]);